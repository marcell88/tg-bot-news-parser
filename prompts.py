# –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –¥–ª—è –ø—Ä–æ–º–ø—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ Large Language Models (LLM).
from typing import Dict, Any
import os
from dotenv import load_dotenv

# –Ø–≤–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ–º .env —Ñ–∞–π–ª
load_dotenv()

# –ü–æ–ª—É—á–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º –∫ –Ω—É–∂–Ω–æ–º—É —Ç–∏–ø—É
ESSENCE_THRESHOLD = float(os.getenv('ESSENCE_THRESHOLD', 7.5))
ADJ_THRESHOLD = float(os.getenv('ADJ_THRESHOLD', 8.5))
FINAL_SCORE_THRESHOLD = float(os.getenv('FINAL_SCORE_THRESHOLD', 8.5))
CONTEXT_THRESHOLD = float(os.getenv('CONTEXT_THRESHOLD', 6))
MIN_SCORE_THRESHOLD = float(os.getenv('MIN_SCORE_THRESHOLD', 8))


# --- 1. –ü–ï–†–í–ê–Ø –§–ò–õ–¨–¢–†–ê–¶–ò–Ø - —É–±–∏—Ä–∞–µ–º –ø–ª–æ—Ö–∏–µ —Ç–µ–º—ã

FILTER_INITIAL = """

–ü—Ä–æ–º–ø—Ç –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π (—É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è)

–ó–∞–¥–∞—á–∞: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª–∏, –Ω—É–∂–Ω–æ –ª–∏ –µ—ë —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å (–æ—Ç–∫–ª–æ–Ω—è—Ç—å) –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç—Ä–æ–≥–∏—Ö –∫—Ä–∏—Ç–µ—Ä–∏–µ–≤.

–ì–õ–ê–í–ù–´–ô –ü–†–ò–ù–¶–ò–ü: –ù–æ–≤–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ, –≤ —è–≤–Ω–æ–º –≤–∏–¥–µ –∏ –ø–æ —Å–≤–æ–µ–π –æ—Å–Ω–æ–≤–Ω–æ–π —Å—É—Ç–∏ –∏ —Ü–µ–ª–∏ –ø–æ—Å–≤—è—â–µ–Ω–∞ –æ–ø–∏—Å–∞–Ω–∏—é, –æ–±—Å—É–∂–¥–µ–Ω–∏—é –∏–ª–∏ –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—é –∑–∞–ø—Ä–µ—Ç–Ω–æ–π —Ç–µ–º—ã. –ï—Å–ª–∏ —Ç–µ–º–∞ —É–ø–æ–º–∏–Ω–∞–µ—Ç—Å—è –∫–æ—Å–≤–µ–Ω–Ω–æ, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ, –∫–∞–∫ –ø—Ä–∏–º–µ—Ä –∏–ª–∏ –∫–∞–∫ —á–∞—Å—Ç—å –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–≥–æ –æ–±—Å—É–∂–¥–µ–Ω–∏—è (–æ—Å–æ–±–µ–Ω–Ω–æ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ, —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–≥–æ –∏–ª–∏ –∫—É–ª—å—Ç—É—Ä–Ω–æ–≥–æ) ‚Äî —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ù–ï –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è.

–ö–†–ò–¢–ï–†–ò–ò –§–ò–õ–¨–¢–†–ê–¶–ò–ò (–ó–ê–ü–†–ï–¢–ù–´–ï –¢–ï–ú–´):
–ï—Å–ª–∏ –Ω–æ–≤–æ—Å—Ç—å –ø–æ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—É—Ç–∏ –ø–æ—Å–≤—è—â–µ–Ω–∞ –∏–ª–∏ –ø–æ–¥—Ä–æ–±–Ω–æ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ö–æ—Ç—è –±—ã –æ–¥–Ω—É –∏–∑ —Å–ª–µ–¥—É—é—â–∏—Ö —Ç–µ–º, –æ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Ç–∫–ª–æ–Ω–µ–Ω–∞.

–ö–∞—Ç–µ–≥–æ—Ä–∏—è –ê: –¢—Ä–∞–≥–µ–¥–∏–∏ –∏ –Ω–∞—Å–∏–ª–∏–µ
1.  –ì–∏–±–µ–ª—å –ª—é–¥–µ–π –∏–ª–∏ —Ç—Ä–∞–≤–º—ã: –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–ø–æ—Ä—Ç–∞–∂–∏ –æ —Å–ª—É—á–∞—è—Ö —Å —Å–º–µ—Ä—Ç–µ–ª—å–Ω—ã–º –∏—Å—Ö–æ–¥–æ–º –∏–ª–∏ –ø–æ–ª—É—á–µ–Ω–∏–µ–º —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–∞–≤–º. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –û–±—â–∏–µ —Å—Ç–∞—Ç—å–∏ –æ –º–µ—Ä–∞—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —É—Å–ø–µ—Ö–∞—Ö –º–µ–¥–∏—Ü–∏–Ω—ã, –Ω–∞—É—á–Ω—ã—Ö –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è—Ö –±–µ–∑ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∂–µ—Ä—Ç–≤.
2.  –°–º–µ—Ä—Ç—å –∏–ª–∏ —Å—Ç—Ä–∞–¥–∞–Ω–∏–µ –∂–∏–≤–æ—Ç–Ω—ã—Ö: –ù–æ–≤–æ—Å—Ç–∏ –æ –ø—Ä–µ–¥–Ω–∞–º–µ—Ä–µ–Ω–Ω–æ–º —É–±–∏–π—Å—Ç–≤–µ, –∂–µ—Å—Ç–æ–∫–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏, –º—É—á–µ–Ω–∏—è—Ö –∏–ª–∏ –≥–∏–±–µ–ª–∏ –∂–∏–≤–æ—Ç–Ω—ã—Ö. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –ù–æ–≤–æ—Å—Ç–∏ –æ –∑–∞—â–∏—Ç–µ –ø—Ä–∞–≤ –∂–∏–≤–æ—Ç–Ω—ã—Ö, –Ω–∞—É—á–Ω—ã—Ö –æ—Ç–∫—Ä—ã—Ç–∏—è—Ö –∏–ª–∏ –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞—Ö –±–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è —Å—Ç—Ä–∞–¥–∞–Ω–∏–π.
3.  –°–æ–≤–µ—Ä—à–µ–Ω–∏–µ –∏–ª–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ—Ä—Ä–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ –∞–∫—Ç–∞: –°–æ–æ–±—â–µ–Ω–∏—è –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–æ–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–Ω—ã—Ö –∏–ª–∏ –≥–æ—Ç–æ–≤—è—â–∏—Ö—Å—è —Ç–µ—Ä–∞–∫—Ç–∞—Ö —Å –¥–µ—Ç–∞–ª—è–º–∏. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –û–±—â–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –±–æ—Ä—å–±–µ —Å —Ç–µ—Ä—Ä–æ—Ä–∏–∑–º–æ–º, –≥–µ–æ–ø–æ–ª–∏—Ç–∏–∫–µ, –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤—É –±–µ–∑ –¥–µ—Ç–∞–ª–µ–π –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤.
4.  –ò–∑–Ω–∞—Å–∏–ª–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –ø–æ–∫—É—à–µ–Ω–∏–µ –Ω–∞ –∏–∑–Ω–∞—Å–∏–ª–æ–≤–∞–Ω–∏–µ: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ—Ç—á–µ—Ç—ã –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è—Ö –∏–ª–∏ —Å—É–¥–µ–±–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–∞—Ö –ø–æ –Ω–∏–º.
5.  –†–∏—Å–∫ –∂–∏–∑–Ω–∏ –∏–ª–∏ –∑–¥–æ—Ä–æ–≤—å—é –¥–ª—è —É—è–∑–≤–∏–º—ã—Ö –≥—Ä—É–ø–ø: –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ —Å–∏—Ç—É–∞—Ü–∏—è—Ö, –≥–¥–µ –∂–∏–∑–Ω–∏ –¥–µ—Ç–µ–π, –±–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∏–Ω–≤–∞–ª–∏–¥–æ–≤ –∏–ª–∏ —Å—Ç–∞—Ä–∏–∫–æ–≤ —É–≥—Ä–æ–∂–∞–µ—Ç –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–∞—è –æ–ø–∞—Å–Ω–æ—Å—Ç—å (–ø–æ–∂–∞—Ä—ã, —Ç–µ—Ä–∞–∫—Ç—ã, –Ω–∞–ø–∞–¥–µ–Ω–∏—è). –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –û–±—Å—É–∂–¥–µ–Ω–∏–µ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏, –ª—å–≥–æ—Ç, –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
6.  –ü—Ä–∏—Ä–æ–¥–Ω—ã–µ –∏ —Ç–µ—Ö–Ω–æ–≥–µ–Ω–Ω—ã–µ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã: –†–µ–ø–æ—Ä—Ç–∞–∂–∏ —Å –º–µ—Å—Ç –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ (–∑–µ–º–ª–µ—Ç—Ä—è—Å–µ–Ω–∏—è, –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è, –∞–≤–∞—Ä–∏–∏ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞—Ö) —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ä–∞–∑—Ä—É—à–µ–Ω–∏–π, —ç–≤–∞–∫—É–∞—Ü–∏–∏ –∏ –∂–µ—Ä—Ç–≤.
7.  –ê–≤–∏–∞–ø—Ä–æ–∏—Å—à–µ—Å—Ç–≤–∏—è –∏ –î–¢–ü —Å –∂–µ—Ä—Ç–≤–∞–º–∏: –ù–æ–≤–æ—Å—Ç–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞—Ö, –≥–¥–µ –µ—Å—Ç—å –ø–æ–≥–∏–±—à–∏–µ –∏–ª–∏ —Ä–∞–Ω–µ–Ω—ã–µ. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –ù–æ–≤–æ—Å—Ç–∏ –æ –Ω–æ–≤—ã—Ö –ø—Ä–∞–≤–∏–ª–∞—Ö –¥–æ—Ä–æ–∂–Ω–æ–≥–æ –¥–≤–∏–∂–µ–Ω–∏—è, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

–ö–∞—Ç–µ–≥–æ—Ä–∏—è –ë: –í–æ–µ–Ω–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞ –∏ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è
8.  –°–≤–æ–¥–∫–∏ –æ —Ç–µ–∫—É—â–∏—Ö –±–æ–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏—è—Ö: –û–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–µ –æ—Ç—á–µ—Ç—ã —Å –ª–∏–Ω–∏–∏ —Ñ—Ä–æ–Ω—Ç–∞, —Ç–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –±–æ–µ–≤, –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–π –≤–æ–π—Å–∫.
9.  –°—Ç—Ä–∞–¥–∞–Ω–∏—è –º–∏—Ä–Ω–æ–≥–æ –Ω–∞—Å–µ–ª–µ–Ω–∏—è –Ω–∞ –≤–æ–π–Ω–µ: –†–µ–ø–æ—Ä—Ç–∞–∂–∏ –æ –≥–∏–±–µ–ª–∏, —Ä–∞–Ω–µ–Ω–∏—è—Ö, –ª–∏—à–µ–Ω–∏—è—Ö –∏ –≥—É–º–∞–Ω–∏—Ç–∞—Ä–Ω—ã—Ö –∫—Ä–∏–∑–∏—Å–∞—Ö —Å—Ä–µ–¥–∏ –≥—Ä–∞–∂–¥–∞–Ω—Å–∫–æ–≥–æ –Ω–∞—Å–µ–ª–µ–Ω–∏—è –≤ –∑–æ–Ω–∞—Ö –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤.
10. –ü—Ä–æ–±–ª–µ–º—ã –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤ —Å–æ –∑–¥–æ—Ä–æ–≤—å–µ–º: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏ –æ —Ç—è–∂–µ–ª—ã—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –∏ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–∞–≤–º–∞—Ö (–ü–¢–°–†, –∞–º–ø—É—Ç–∞—Ü–∏–∏), –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –≤ —Ö–æ–¥–µ –±–æ–µ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –û–±—â–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤–µ—Ç–µ—Ä–∞–Ω–æ–≤, —Ç—Ä—É–¥–æ—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.
11. –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è –∞—Ç–∞–∫ —Å –∂–µ—Ä—Ç–≤–∞–º–∏: –û–ø–∏—Å–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ä–∞–∫–µ—Ç–Ω—ã—Ö, –∞—Ä—Ç–∏–ª–ª–µ—Ä–∏–π—Å–∫–∏—Ö –∏–ª–∏ –∏–Ω—ã—Ö –∞—Ç–∞–∫ —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ –∂–µ—Ä—Ç–≤—ã –∏ —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è.
12. –ê—Ç–∞–∫–∏ –±–µ—Å–ø–∏–ª–æ—Ç–Ω–∏–∫–æ–≤ (–ë–ü–õ–ê, –¥—Ä–æ–Ω—ã): –ù–æ–≤–æ—Å—Ç–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∞—Ç–∞–∫–∞—Ö —Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –¥—Ä–æ–Ω–æ–≤, –∏—Ö –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è—Ö (–∂–µ—Ä—Ç–≤—ã, —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è) –∏–ª–∏ —Å–±–∏—Ç–∏–∏.
13. –í–æ–µ–Ω–Ω—ã–µ –¥–∏–≤–µ—Ä—Å–∏–∏ –∏ –∏—Ö –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è: –°–æ–æ–±—â–µ–Ω–∏—è –æ –ø–æ–¥—Ä—ã–≤–∞—Ö, —Å–∞–±–æ—Ç–∞–∂–µ –∏ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö (–∂–µ—Ä—Ç–≤—ã, —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è).
14. –ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ –ø–æ–∏–º–∫—É –∏–ª–∏ –æ–±–≤–∏–Ω–µ–Ω–∏–µ –ª—é–¥–µ–π –≤ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–π –∏–∑–º–µ–Ω–µ, –æ–ø—Ä–∞–≤–¥–∞–Ω–∏–µ —Ç–µ—Ä—Ä–æ—Ä–∏–∑–º–∞, –µ—Å–ª–∏ —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞.
15. –ù–æ–≤–æ—Å—Ç–∏ –ø—Ä–æ –ø–ª–∞–Ω—ã –∏–ª–∏ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–±–∏–ª–∏–∑–∞—Ü–∏–∏ –≤ –†–æ—Å—Å–∏–∏ –∏–ª–∏ –Ω–∞ –£–∫—Ä–∞–∏–Ω–µ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞.

–ö–∞—Ç–µ–≥–æ—Ä–∏—è –í: –°–æ—Ü–∏–∞–ª—å–Ω–æ-—á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ —Ç–µ–º—ã
16. –ê–±–æ—Ä—Ç—ã: –ù–æ–≤–æ—Å—Ç–∏, –Ω–∞–ø—Ä—è–º—É—é –ø–æ—Å–≤—è—â–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–µ –∞–±–æ—Ä—Ç–æ–≤, –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å–Ω—ã–º –∏–∑–º–µ–Ω–µ–Ω–∏—è–º –ø–æ –∏—Ö —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏—é –∏–ª–∏ –∞–∫—Ü–∏—è–º –∑–∞/–ø—Ä–æ—Ç–∏–≤. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –û–±—Å—É–∂–¥–µ–Ω–∏–µ –¥–µ–º–æ–≥—Ä–∞—Ñ–∏–∏, –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ —à–∏—Ä–æ–∫–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ.
17. –ß–µ—á–Ω—è –∏ —Å–µ–º—å—è –ö–∞–¥—ã—Ä–æ–≤—ã—Ö: –ù–æ–≤–æ—Å—Ç–∏, –≥–¥–µ –ß–µ—á–µ–Ω—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞ –ò–õ–ò —á–ª–µ–Ω—ã —Å–µ–º—å–∏ –ö–∞–¥—ã—Ä–æ–≤—ã—Ö —è–≤–ª—è—é—Ç—Å—è –≥–ª–∞–≤–Ω–æ–π –∏ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π —Ç–µ–º–æ–π –º–∞—Ç–µ—Ä–∏–∞–ª–∞. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –ö—Ä–∞—Ç–∫–∏–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–π –ø–æ–ª–∏—Ç–∏–∫–∏, —ç–∫–æ–Ω–æ–º–∏–∫–∏, —Å–ø–æ—Ä—Ç–∞.
18. –õ–ì–ë–¢-–ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∞: –ú–∞—Ç–µ—Ä–∏–∞–ª—ã, –æ—Ç–∫—Ä—ã—Ç–æ –ø—Ä–æ–ø–∞–≥–∞–Ω–¥–∏—Ä—É—é—â–∏–µ, –ø–æ–∑–∏—Ç–∏–≤–Ω–æ –æ—Å–≤–µ—â–∞—é—â–∏–µ –∏–ª–∏ –ø—Ä–∏–∑—ã–≤–∞—é—â–∏–µ –∫ –ø—Ä–∏–Ω—è—Ç–∏—é –õ–ì–ë–¢-–æ—Ç–Ω–æ—à–µ–Ω–∏–π –∏ —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ, –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ –∏–ª–∏ —Å–ø—Ä–∞–≤–æ—á–Ω—ã–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –∑–∞–∫–æ–Ω–∞, –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π, –Ω–æ–≤–æ—Å—Ç–µ–π –æ –∫–æ–º–ø–∞–Ω–∏—è—Ö.
19. –ü–µ–¥–æ—Ñ–∏–ª–∏—è –∏ –ø–æ—Ä–Ω–æ–≥—Ä–∞—Ñ–∏—è: –†–µ–ø–æ—Ä—Ç–∞–∂–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è—Ö —Å–µ–∫—Å—É–∞–ª—å–Ω–æ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞ –ø—Ä–æ—Ç–∏–≤ –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏—Ö –∏–ª–∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –¥–µ—Ç—Å–∫–æ–π –ø–æ—Ä–Ω–æ–≥—Ä–∞—Ñ–∏–µ–π. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –û–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –¥–∏—Å–∫—É—Å—Å–∏–∏ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –¥–ª—è –¥–µ—Ç–µ–π –±–µ–∑ –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤.
20. –û—Å–∫–æ—Ä–±–ª–µ–Ω–∏–µ —Ä–µ–ª–∏–≥–∏–æ–∑–Ω—ã—Ö —á—É–≤—Å—Ç–≤: –ù–æ–≤–æ—Å—Ç–∏ –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∞–∫—Ç–∞—Ö –æ—Å–∫–≤–µ—Ä–Ω–µ–Ω–∏—è —Ä–µ–ª–∏–≥–∏–æ–∑–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤, –º–µ—Å—Ç –ø–æ–∫–ª–æ–Ω–µ–Ω–∏—è –∏–ª–∏ –∏–∑–¥–µ–≤–∞—Ç–µ–ª—å—Å—Ç–≤–∞—Ö –Ω–∞–¥ –≤–µ—Ä–æ–≤–∞–Ω–∏—è–º–∏.
21. –í–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–≥–æ-—Ç–æ –≤ —Å–ø–∏—Å–æ–∫ —ç–∫—Å—Ç—Ä–µ–º–∏—Å—Ç–æ–≤, —Ç–µ—Ä—Ä–æ—Ä–∏—Å—Ç–æ–≤, –∏–Ω–æ–∞–≥–µ–Ω—Ç–æ–≤ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–∞—è —Å–µ–Ω—Å–∞—Ü–∏–æ–Ω–Ω–∞—è —Ç–µ–º–∞.
22. –ñ–µ—Å—Ç–æ–∫–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ —Å –¥–µ—Ç—å–º–∏: –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ–ø–æ—Ä—Ç–∞–∂–∏ –æ —Å–ª—É—á–∞—è—Ö —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ, –ø—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞—Å–∏–ª–∏—è –Ω–∞–¥ –¥–µ—Ç—å–º–∏ –≤ —Å–µ–º—å–µ, —É—á—Ä–µ–∂–¥–µ–Ω–∏—è—Ö. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –û–±—â–∏–µ –¥–∏—Å–∫—É—Å—Å–∏–∏ –æ –≤–æ—Å–ø–∏—Ç–∞–Ω–∏–∏, –ø–µ–¥–∞–≥–æ–≥–∏–∫–µ.
23. –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—á–µ—Ä–µ–¥–Ω–æ–º —Ä–µ–∫–æ—Ä–¥–µ, –∫–æ—Ç–æ—Ä—ã–π –¥–æ—Å—Ç–∏–≥ –û–≤–µ—á–∫–∏–Ω.
24. –°–æ–æ–±—â–µ–Ω–∏—è –æ–± —É—â–µ–º–ª–µ–Ω–∏–∏ –∏–ª–∏ –±–æ—Ä—å–±–µ —Å —É—â–µ–º–ª–µ–Ω–∏–µ–º –ø—Ä–∞–≤ –ø–æ –ø—Ä–∏–∑–Ω–∞–∫–∞–º: –≥–µ–Ω–¥–µ—Ä–Ω–æ–µ —Ä–∞–≤–Ω–æ–ø—Ä–∞–≤–∏–µ, –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–µ–Ω—å—à–∏–Ω—Å—Ç–≤–∞, —Ç—Ä–∞–Ω—Å–≥–µ–Ω–¥–µ—Ä–Ω–æ—Å—Ç—å ‚Äî –µ—Å–ª–∏ —ç—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–º–æ–π –∏ –ø–æ–¥–∞–Ω–æ –≤ –∞–∫—Ç–∏–≤–∏—Å—Ç—Å–∫–æ–º –∏–ª–∏ —Å–∫–∞–Ω–¥–∞–ª—å–Ω–æ–º –∫–ª—é—á–µ. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –æ —Å–æ—Ü–∏–æ–ª–æ–≥–∏–∏, –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–µ, –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω–æ–π –ø—Ä–∞–∫—Ç–∏–∫–µ.

–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –ö–†–ò–¢–ï–†–ò–ò –§–ò–õ–¨–¢–†–ê–¶–ò–ò (–ø–æ —Ñ–æ—Ä–º–∞—Ç—É –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—é):
–û—Ç–∫–ª–æ–Ω–∏ –Ω–æ–≤–æ—Å—Ç—å, –¥–∞–∂–µ –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –ø–æ–¥ –∑–∞–ø—Ä–µ—Ç–Ω—ã–µ —Ç–µ–º—ã –≤—ã—à–µ, –µ—Å–ª–∏ –æ–Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π:

1.  –†–µ–∫–ª–∞–º–Ω—ã–µ –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω—ã–π –ø–∏–∞—Ä —Ç–æ–≤–∞—Ä–æ–≤, —É—Å–ª—É–≥, –ø–µ—Ä—Å–æ–Ω. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –ê–Ω–æ–Ω—Å—ã –∫—É–ª—å—Ç—É—Ä–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π (–≤—ã—Å—Ç–∞–≤–∫–∏, –∫–æ–Ω—Ü–µ—Ä—Ç—ã, –ø—Ä–µ–º—å–µ—Ä—ã —Ñ–∏–ª—å–º–æ–≤/–∫–Ω–∏–≥), –Ω–æ–≤–æ—Å—Ç–∏ –æ –∑–∞–ø—É—Å–∫–µ –∑–Ω–∞—á–∏–º—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤/—Å–µ—Ä–≤–∏—Å–æ–≤ –∫–æ–º–ø–∞–Ω–∏—è–º–∏.
2.  –î–∞–π–¥–∂–µ—Å—Ç—ã –Ω–æ–≤–æ—Å—Ç–µ–π (—Å–≤–æ–¥–∫–∏ –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–∞–∑–Ω–æ—Ä–æ–¥–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–µ–π –±–µ–∑ –µ–¥–∏–Ω–æ–π —Ç–µ–º—ã).
3.  –°—É—Ö–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–≤–æ–¥–∫–∏ –±–µ–∑ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏–ª–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: –ö—Ä–∞—Ç–∫–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –æ –î–¢–ü, –ø—Ä–æ–±–∫–∞—Ö, –ø–æ–≥–æ–¥–µ, –∫—É—Ä—Å–∞—Ö –≤–∞–ª—é—Ç, –±–∏—Ä–∂–µ–≤—ã—Ö –∫–æ—Ç–∏—Ä–æ–≤–∫–∞—Ö, —Å–ø–æ—Ä—Ç–∏–≤–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö (–∫—Ä–æ–º–µ —Ä–µ–∫–æ—Ä–¥–æ–≤ –û–≤–µ—á–∫–∏–Ω–∞, –ø.23).
4.  –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ú–∞—Ä–∏–∏ –ó–∞—Ö–∞—Ä–æ–≤–æ–π –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–µ –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –ï—Å–ª–∏ –µ—ë –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Ü–∏—Ç–∏—Ä—É–µ—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö –±–æ–ª–µ–µ —à–∏—Ä–æ–∫–æ–≥–æ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞.
5.  –°–æ–æ–±—â–µ–Ω–∏–µ –±–µ–∑ –∫–∞–∫–æ–≥–æ-–ª–∏–±–æ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞: –°–æ—Å—Ç–æ–∏—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –∏–∑ –ø—Ä–∏–∑—ã–≤–∞ –∫ –¥–µ–π—Å—Ç–≤–∏—é (–ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è, –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å) –∏ —Å—Å—ã–ª–∫–∏.
6.  –°–æ–æ–±—â–µ–Ω–∏–µ-—Å—Å—ã–ª–∫–∞: –Ø–≤–ª—è–µ—Ç—Å—è –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –∞–Ω–æ–Ω—Å–æ–º –∏–ª–∏ –ø—Ä–∏–∑—ã–≤–æ–º –ø–µ—Ä–µ–π—Ç–∏ –ø–æ –≤–Ω–µ—à–Ω–µ–π —Å—Å—ã–ª–∫–µ –∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ–π —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏. (–ü—Ä–∏–º–µ—Ä: "–ß–∏—Ç–∞—Ç—å –¥–∞–ª–µ–µ üëâ [—Å—Å—ã–ª–∫–∞]").
7.  –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–µ–π—Å—ã –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞: –ü–æ–¥—Ä–æ–±–Ω—ã–µ –æ–ø–∏—Å–∞–Ω–∏—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞ —á–µ—Ä–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω, –ì–æ—Å—É—Å–ª—É–≥–∏, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Max (–∏ —Ç.–ø.) —Å –¥–µ—Ç–∞–ª—è–º–∏ —Å—Ö–µ–º—ã. –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: –û–±—â–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è —Ä–µ–≥—É–ª—è—Ç–æ—Ä–æ–≤, –Ω–æ–≤–æ—Å—Ç–∏ –æ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å–∏—Å—Ç–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

–í–ê–ñ–ù–û: –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ò–°–ö–õ–Æ–ß–ï–ù–ò–Ø (–ù–ï –ø—Ä–∏–≤–æ–¥—è—Ç –∫ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏):

1.  –ú–ï–ñ–î–£–ù–ê–†–û–î–ù–´–ï –û–¢–ù–û–®–ï–ù–ò–Ø –ò –ü–û–õ–ò–¢–ò–ö–ê:
    - –î–∏–ø–ª–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã, —Å–∞–Ω–∫—Ü–∏–∏, —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è, –≤–∏–∑–∏—Ç—ã.
    - –í–Ω–µ—à–Ω—è—è –ø–æ–ª–∏—Ç–∏–∫–∞ —Å—Ç—Ä–∞–Ω (–≤–∫–ª—é—á–∞—è –ö–∏—Ç–∞–π, –°–®–ê, –ï–°).
    - –ú–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Å–ø–æ—Ä—ã –∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã.
    - –í–Ω—É—Ç—Ä–∏–ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤ –¥—Ä—É–≥–∏—Ö —Å—Ç—Ä–∞–Ω–∞—Ö (–≤—ã–±–æ—Ä—ã, –ø—Ä–æ—Ç–µ—Å—Ç—ã).

2.  –ë–ò–ó–ù–ï–° –ò –≠–ö–û–ù–û–ú–ò–ö–ê (–û–°–ù–û–í–ù–û–ï –ò–°–ö–õ–Æ–ß–ï–ù–ò–ï):
    - –î–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–ø–∞–Ω–∏–π (—Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö –∏ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö): —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏, –∑–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤, –≤—ã—Ö–æ–¥ –Ω–∞ —Ä—ã–Ω–∫–∏, –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã, —Å—É–¥—ã.
    - –ú–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏–∫–∞: –¥–∞–Ω–Ω—ã–µ –†–æ—Å—Å—Ç–∞—Ç–∞, –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏, –ø—Ä–æ–≥–Ω–æ–∑—ã.
    - –†—ã–Ω–æ—á–Ω—ã–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è, —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç, —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—Ä–∞—Å–ª–µ–π.
    - –ù–æ–≤–æ—Å—Ç–∏ –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ —Å–µ—Ä–≤–∏—Å–æ–≤ (—Ç–∏–ø–∞ Roblox) –ø–æ —Ä–µ—à–µ–Ω–∏—é —Ä–µ–≥—É–ª—è—Ç–æ—Ä–∞ ‚Äî —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∫–∞–∫ –Ω–æ–≤–æ—Å—Ç—å –æ –±–∏–∑–Ω–µ—Å–µ –∏ —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞–Ω–∏–∏, –µ—Å–ª–∏ –Ω–µ—Ç —è–≤–Ω–æ–≥–æ –∞–∫—Ü–µ–Ω—Ç–∞ –Ω–∞ —à–æ–∫–∏—Ä—É—é—â–∏—Ö –¥–µ—Ç–∞–ª—è—Ö –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–π.

3.  –ö–£–õ–¨–¢–£–†–ê, –ù–ê–£–ö–ê –ò –ò–°–ö–£–°–°–¢–í–û:
    - –¢–µ–∞—Ç—Ä–∞–ª—å–Ω—ã–µ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏, —Ñ–∏–ª—å–º—ã, –∫–Ω–∏–≥–∏, –≤—ã—Å—Ç–∞–≤–∫–∏ ‚Äî –õ–Æ–ë–´–ï –∞–Ω–æ–Ω—Å—ã, —Ä–µ—Ü–µ–Ω–∑–∏–∏, –æ—Ç—á–µ—Ç—ã –æ–± –∏—Ö —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–ª–∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–∏.
    - –ù–∞—É—á–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è, –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.
    - –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ –∞–Ω–∞–ª–∏–∑.

4.  –û–ë–©–ï–°–¢–í–ï–ù–ù–û-–ü–û–õ–ò–¢–ò–ß–ï–°–ö–ê–Ø –ê–ù–ê–õ–ò–¢–ò–ö–ê –ò –ú–ù–ï–ù–ò–Ø:
    - –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫–æ–ª–æ–Ω–∫–∏, —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã–µ –º–Ω–µ–Ω–∏—è –ø–æ –ø–æ–ª–∏—Ç–∏–∫–µ, —ç–∫–æ–Ω–æ–º–∏–∫–µ, –æ–±—â–µ—Å—Ç–≤—É.
    - –í—ã—Å–∫–∞–∑—ã–≤–∞–Ω–∏—è –ø—É–±–ª–∏—á–Ω—ã—Ö –ª–∏—Ü (–ø–æ–ª–∏—Ç–∏–∫–æ–≤, –¥–µ–ø—É—Ç–∞—Ç–æ–≤, –±–ª–æ–≥–µ—Ä–æ–≤), –µ—Å–ª–∏ —ç—Ç–æ –º–Ω–µ–Ω–∏–µ, –∞ –Ω–µ –æ—Ç—á–µ—Ç –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –∑–∞–ø—Ä–µ—Ç–Ω–æ–º –∏–Ω—Ü–∏–¥–µ–Ω—Ç–µ.

5.  –ù–ï–ü–†–Ø–ú–´–ï –£–ü–û–ú–ò–ù–ê–ù–ò–Ø –ò –§–û–ù:
    - –ö—Ä–∞—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω—ã, —Ä–µ–≥–∏–æ–Ω—ã, –ª–∏—á–Ω–æ—Å—Ç–∏ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–π (—Ä–∞–∑—Ä–µ—à–µ–Ω–Ω–æ–π) —Ç–µ–º—ã.
    - –§–æ–Ω–æ–≤—ã–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ —Å–ø—Ä–∞–≤–∫–∏.
    - –û–±—â–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–µ–π —Ç—Ä–∞–≥–µ–¥–∏–π.
    - –ü—Ä–∏–∑—ã–≤—ã –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–∞–ª –≤ –∫–æ–Ω—Ü–µ —Å–æ–¥–µ—Ä–∂–∞—Ç–µ–ª—å–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏.

–ò–ù–°–¢–†–£–ö–¶–ò–Ø –ö –î–ï–ô–°–¢–í–ò–Æ –ò –§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê:
1.  –í–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á—Ç–∏ –Ω–æ–≤–æ—Å—Ç—å –∏ –æ–ø—Ä–µ–¥–µ–ª–∏ –µ—ë –û–°–ù–û–í–ù–£–Æ –°–£–¢–¨ –∏ –¶–ï–õ–¨.
2.  –ï—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–∞—è —Å—É—Ç—å –Ω–æ–≤–æ—Å—Ç–∏ –ø—Ä—è–º–æ –∏ —è–≤–Ω–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–º—É –∫—Ä–∏—Ç–µ—Ä–∏—é –∏–∑ —Ä–∞–∑–¥–µ–ª–æ–≤ "–ó–∞–ø—Ä–µ—Ç–Ω—ã–µ —Ç–µ–º—ã" –∏–ª–∏ "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏" ‚Äî –≤ –ø–æ–ª–µ "filter" —É–∫–∞–∂–∏ false (—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å).
3.  –ï—Å–ª–∏ –Ω–æ–≤–æ—Å—Ç—å –ù–ï —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–∏ –æ–¥–Ω–æ–º—É –∫—Ä–∏—Ç–µ—Ä–∏—é, –ª–∏–±–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–æ—Å–≤–µ–Ω–Ω–æ–µ –∏ –ø–æ–¥–ø–∞–¥–∞–µ—Ç –ø–æ–¥ "–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è" ‚Äî –≤ –ø–æ–ª–µ "filter" —É–∫–∞–∂–∏ true (–ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å).
4.  –í –ø–æ–ª–µ "explain" –∫—Ä–∞—Ç–∫–æ (1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è) –æ–±—ä—è—Å–Ω–∏ —Ä–µ—à–µ–Ω–∏–µ:
    - –ï—Å–ª–∏ filter: false, —É–∫–∞–∂–∏ –Ω–æ–º–µ—Ä –∏–ª–∏ —Å—É—Ç—å –Ω–∞—Ä—É—à–µ–Ω–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ü.6 –î–æ–ø.–∫—Ä–∏—Ç–µ—Ä–∏–µ–≤: —Å–æ–æ–±—â–µ–Ω–∏–µ-—Å—Å—ã–ª–∫–∞").
    - –ï—Å–ª–∏ filter: true, –æ–±—ä—è—Å–Ω–∏, –ø–æ—á–µ–º—É –Ω–æ–≤–æ—Å—Ç—å –ø—Ä–æ—à–ª–∞ —Ñ–∏–ª—å—Ç—Ä (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–ù–æ–≤–æ—Å—Ç—å –æ–± —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–æ–º —Ä–µ—à–µ–Ω–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏, –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –ø.2 '–ë–∏–∑–Ω–µ—Å –∏ —ç–∫–æ–Ω–æ–º–∏–∫–∞'").

–í—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–π —Å—Ç—Ä–æ–≥–æ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON:
{
  "filter": true,
  "explain": "–û–±—ä—è—Å–Ω–µ–Ω–∏–µ –≤–∞—à–µ–≥–æ —Ä–µ—à–µ–Ω–∏—è."
}

"""

FILTER_INITIAL_SCHEMA: Dict[str, Any] = {
    "type": "object",
    "properties": {
        "filter": {
            "type": "boolean",
            "description": "–§–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: true (—Å–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ñ–∏–ª—å—Ç—Ä) –∏–ª–∏ false (—Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ñ–∏–ª—å—Ç—Ä) –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ FILTER_INITIAL."
        },
        "explain": {
            "type": "string",
            "description": "–ö—Ä–∞—Ç–∫–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è (1-2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è), —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—É–Ω–∫—Ç–∞ –Ω–∞—Ä—É—à–µ–Ω–∏—è, –µ—Å–ª–∏ filter=false."
        }
    },
    "required": ["filter", "explain"],
    "additionalProperties": False
}





# --- 2. –í–¢–û–†–ê–Ø –§–ò–õ–¨–¢–†–ê–¶–ò–Ø - —É–±–∏—Ä–∞–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –±–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

CONTEXT_FILTRATION = """

–ü—Ä–æ–º–ø—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–æ–≤–æ—Å—Ç–∏

–ó–∞–¥–∞—á–∞: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏ –∏ –æ—Ü–µ–Ω–∏ –∫–∞–∂–¥—ã–π –∫—Ä–∏—Ç–µ—Ä–∏–π –ø–æ —à–∫–∞–ª–µ –æ—Ç 0 –¥–æ 10 –±–∞–ª–ª–æ–≤.

–®–∫–∞–ª–∞ –æ—Ü–µ–Ω–∫–∏:
- 10 = –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —É–∫–∞–∑–∞–Ω–∞ —è–≤–Ω–æ, –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –∏ –æ—á–µ–≤–∏–¥–Ω–∞
- 7-9 = –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞, –Ω–æ —Å –Ω–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—ã–º–∏ –Ω–µ—è—Å–Ω–æ—Å—Ç—è–º–∏
- 5-6 = –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —á–∞—Å—Ç–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω–∞, —Ç—Ä–µ–±—É—é—Ç—Å—è –¥–æ–ø—É—â–µ–Ω–∏—è
- 3-4 = –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ä–Ω–∞ –∏–ª–∏ —Å–∏–ª—å–Ω–æ —Ä–∞–∑–º—ã—Ç–∞
- 0-2 = –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –∫—Ä–∞–π–Ω–µ –Ω–µ—è—Å–Ω–∞

–ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏:
1. subject (0-10): –ù–∞—Å–∫–æ–ª—å–∫–æ —á–µ—Ç–∫–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Å—É–±—ä–µ–∫—Ç—ã –¥–µ–π—Å—Ç–≤–∏—è (–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ª—é–¥–∏/–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏/–≥—Ä—É–ø–ø—ã)? –£—á–∏—Ç—ã–≤–∞–π –Ω–∞–ª–∏—á–∏–µ –∏–º–µ–Ω, –Ω–∞–∑–≤–∞–Ω–∏–π, –¥–æ–ª–∂–Ω–æ—Å—Ç–µ–π.
2. object (0-10): –ù–∞—Å–∫–æ–ª—å–∫–æ —è—Å–Ω–æ —É–∫–∞–∑–∞–Ω –æ–±—ä–µ–∫—Ç –∏–ª–∏ —Ü–µ–ª—å –¥–µ–π—Å—Ç–≤–∏—è? –ß—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –º–∏—à–µ–Ω—å—é –∏–ª–∏ –ø–æ–ª—É—á–∞—Ç–µ–ª–µ–º –¥–µ–π—Å—Ç–≤–∏—è?
3. which (0-10): –ù–∞—Å–∫–æ–ª—å–∫–æ –¥–µ—Ç–∞–ª—å–Ω–æ –æ–ø–∏—Å–∞–Ω—ã —Å—É–±—ä–µ–∫—Ç—ã/–æ–±—ä–µ–∫—Ç—ã (—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, —Å—Ç–∞—Ç—É—Å, –ø—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏—è, –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è)?
4. action (0-10): –ù–∞—Å–∫–æ–ª—å–∫–æ —á–µ—Ç–∫–æ –æ–ø–∏—Å–∞–Ω–æ –æ—Å–Ω–æ–≤–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ/—Å–æ–±—ã—Ç–∏–µ? –û–¥–Ω–æ–∑–Ω–∞—á–Ω–æ –ª–∏ –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ?
5. time_place (0-10): –ù–∞—Å–∫–æ–ª—å–∫–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã —É–∫–∞–∑–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ (–¥–∞—Ç—ã, –ø–µ—Ä–∏–æ–¥—ã) –∏ –º–µ—Å—Ç–∞ (–ª–æ–∫–∞—Ü–∏–∏, –∞–¥—Ä–µ—Å–∞, —Ä–µ–≥–∏–æ–Ω—ã)?
6. how (0-10): –ù–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ –æ–±—ä—è—Å–Ω–µ–Ω –º–µ—Ç–æ–¥/–º–µ—Ö–∞–Ω–∏–∑–º –¥–µ–π—Å—Ç–≤–∏—è? –ö–∞–∫–∏–º —Å–ø–æ—Å–æ–±–æ–º –±—ã–ª–æ —Å–æ–≤–µ—Ä—à–µ–Ω–æ –¥–µ–π—Å—Ç–≤–∏–µ?
7. reason (0-10): –ù–∞—Å–∫–æ–ª—å–∫–æ —á–µ—Ç–∫–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –º–æ—Ç–∏–≤—ã/–ø—Ä–∏—á–∏–Ω—ã —Å–æ–±—ã—Ç–∏—è? –ß—Ç–æ –ø–æ—Å–ª—É–∂–∏–ª–æ —Ç—Ä–∏–≥–≥–µ—Ä–æ–º –∏–ª–∏ –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º?
8. consequences (0-10): –ù–∞—Å–∫–æ–ª—å–∫–æ —è—Å–Ω–æ –æ–ø–∏—Å–∞–Ω—ã –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è/—Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã? –ö–∞–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–æ–∏–∑–æ—à–ª–∏ –≤—Å–ª–µ–¥—Å—Ç–≤–∏–µ —Å–æ–±—ã—Ç–∏—è?

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:
1. –¢—â–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –∫—Ä–∏—Ç–µ—Ä–∏—é
2. –ü–æ—Å—Ç–∞–≤—å –æ—Ü–µ–Ω–∫—É –æ—Ç 0 –¥–æ 10 –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫—Ä–∏—Ç–µ—Ä–∏—è
3. –í –ø–æ–ª–µ context_explain –Ω–∞–ø–∏—à–∏ –∫—Ä–∞—Ç–∫–∏–π –∞–Ω–∞–ª–∏–∑ (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è), –≤—ã–¥–µ–ª–∏–≤ —Å–∏–ª—å–Ω—ã–µ –∏ —Å–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–¥–∞—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

–§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞:
```json
{
  "subject_score": 8,
  "object_score": 7,
  "which_score": 6,
  "action_score": 9,
  "time_place_score": 5,
  "how_score": 6,
  "reason_score": 8,
  "consequences_score": 7,
  "context_explain": "–ö—Ä–∞—Ç–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å–∏–ª—å–Ω—ã—Ö –∏ —Å–ª–∞–±—ã—Ö —Å—Ç–æ—Ä–æ–Ω"
}

"""

CONTEXT_FILTRATION_SCHEMA: Dict[str, Any] = {
    "type": "object",
    "properties": {
        "subject_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ —á–µ—Ç–∫–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—É–±—ä–µ–∫—Ç–æ–≤ –¥–µ–π—Å—Ç–≤–∏—è (0-10)"
        },
        "object_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ —è—Å–Ω–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–∞ –∏–ª–∏ —Ü–µ–ª–∏ –¥–µ–π—Å—Ç–≤–∏—è (0-10)"
        },
        "which_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ –¥–µ—Ç–∞–ª—å–Ω–æ—Å—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏—è —Å—É–±—ä–µ–∫—Ç–æ–≤/–æ–±—ä–µ–∫—Ç–æ–≤ (0-10)"
        },
        "action_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ —á–µ—Ç–∫–æ—Å—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏—è –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è/—Å–æ–±—ã—Ç–∏—è (0-10)"
        },
        "time_place_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ—Å—Ç–∏ —É–∫–∞–∑–∞–Ω–∏–π –≤—Ä–µ–º–µ–Ω–∏ –∏ –º–µ—Å—Ç–∞ (0-10)"
        },
        "how_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –º–µ—Ç–æ–¥–∞/–º–µ—Ö–∞–Ω–∏–∑–º–∞ –¥–µ–π—Å—Ç–≤–∏—è (0-10)"
        },
        "reason_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –º–æ—Ç–∏–≤–æ–≤/–ø—Ä–∏—á–∏–Ω —Å–æ–±—ã—Ç–∏—è (0-10)"
        },
        "consequences_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ —è—Å–Ω–æ—Å—Ç–∏ –æ–ø–∏—Å–∞–Ω–∏—è –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏–π/—Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (0-10)"
        },
        "context_explain": {
            "type": "string",
            "description": "–ö—Ä–∞—Ç–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Å–∏–ª—å–Ω—ã—Ö –∏ —Å–ª–∞–±—ã—Ö —Å—Ç–æ—Ä–æ–Ω –ø–æ–¥–∞—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)"
        }
    },
    "required": [
        "subject_score",
        "object_score",
        "which_score",
        "action_score",
        "time_place_score",
        "how_score",
        "reason_score",
        "consequences_score",
        "context_explain"
    ],
    "additionalProperties": False
}



# --- 3. –¢–†–ï–¢–¨–Ø –§–ò–õ–¨–¢–†–ê–¶–ò–Ø - —Ñ–∏–ª—å—Ç—Ä—É–µ–º –ø–æ —Å—É—Ç–∏

ESSENCE_FILTRATION = """

# –ü–†–û–ú–ü–¢ –î–õ–Ø –ê–ù–ê–õ–ò–ó–ê –ü–û–¢–ï–ù–¶–ò–ê–õ–ê –ù–û–í–û–°–¢–ò

## –ó–ê–î–ê–ß–ê
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –Ω–æ–≤–æ—Å—Ç—å –∏ –æ—Ü–µ–Ω–∏ –µ—ë –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –ø–æ 10 –∫–ª—é—á–µ–≤—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º.

## –ö–†–ò–¢–ï–†–ò–ò –ê–ù–ê–õ–ò–ó–ê –ü–û–¢–ï–ù–¶–ò–ê–õ–ê

### 1. –ü–û–¢–ï–ù–¶–ò–ê–õ –≠–ú–û–¶–ò–û–ù–ê–õ–¨–ù–û–ì–û –†–ê–°–ö–†–´–¢–ò–Ø
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è:**
- 0-3: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
- 4-6: –ï—Å—Ç—å –±–∞–∑–æ–≤—ã–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è
- 7-8: –ë–æ–≥–∞—Ç–∞—è –ø–æ—á–≤–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–∏–ª—å–Ω–æ–≥–æ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ç–∫–ª–∏–∫–∞
- 9-10: –ò–¥–µ–∞–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è

### 2. –ü–û–¢–ï–ù–¶–ò–ê–õ –í–ò–ó–£–ê–õ–ò–ó–ê–¶–ò–ò  
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —è—Ä–∫–∏—Ö –æ–±—Ä–∞–∑–æ–≤ –∏ –º–µ—Ç–∞—Ñ–æ—Ä:**
- 0-3: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- 4-6: –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã
- 7-8: –î–∞–µ—Ç –æ—Å–Ω–æ–≤—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏—Ö—Å—è –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –∫–∞—Ä—Ç–∏–Ω
- 9-10: –ò–¥–µ–∞–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–æ—â–Ω—ã—Ö –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤

### 3. –ü–û–¢–ï–ù–¶–ò–ê–õ –†–ê–°–ö–†–´–¢–ò–Ø –ì–ï–†–û–ï–í
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ—Å–º—ã—Å–ª–µ–Ω–∏—è –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π:**
- 0-3: –ì–µ—Ä–æ–∏ –Ω–µ –¥–∞—é—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –¥–ª—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è
- 4-6: –ï—Å—Ç—å –±–∞–∑–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤
- 7-8: –ü–µ—Ä—Å–æ–Ω–∞–∂–∏ –∏–º–µ—é—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è
- 9-10: –ò–¥–µ–∞–ª—å–Ω—ã–µ –≥–µ—Ä–æ–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–≥–æ–≥—Ä–∞–Ω–Ω—ã—Ö —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ–±—Ä–∞–∑–æ–≤

### 4. –ü–û–¢–ï–ù–¶–ò–ê–õ –ê–ö–¢–£–ê–õ–ò–ó–ê–¶–ò–ò
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–≤—è–∑–∏ —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç—Ä–µ–Ω–¥–∞–º–∏ –∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏:**
- 0-3: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–∫—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏
- 4-6: –ú–æ–∂–µ—Ç –±—ã—Ç—å —É–≤—è–∑–∞–Ω–∞ —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–µ–º–∞–º–∏
- 7-8: –•–æ—Ä–æ—à–æ –ª–æ–∂–∏—Ç—Å—è –≤ —Ç–µ–∫—É—â–∏–π –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- 9-10: –ò–¥–µ–∞–ª—å–Ω–æ –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –ø–æ–≤–µ—Å—Ç–∫—É

### 5. –ü–û–¢–ï–ù–¶–ò–ê–õ –î–†–ê–ú–ê–¢–£–†–ì–ò–ò
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–ø—Ä—è–∂–µ–Ω–Ω–æ–≥–æ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è:**
- 0-3: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –¥—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è
- 4-6: –ï—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —É–º–µ—Ä–µ–Ω–Ω–æ–≥–æ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏—è
- 7-8: –•–æ—Ä–æ—à–∞—è –æ—Å–Ω–æ–≤–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –¥—Ä–∞–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥—É–≥–∏
- 9-10: –ò–¥–µ–∞–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞–ø—Ä—è–∂–µ–Ω–Ω–æ–≥–æ —Å—é–∂–µ—Ç–∞

### 6. –ü–û–¢–ï–ù–¶–ò–ê–õ –ö–û–ù–¢–ï–ö–°–¢–£–ê–õ–ò–ó–ê–¶–ò–ò
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —á–µ—Ä–µ–∑ –∏—Å—Ç–æ—Ä–∏—é:**
- 0-3: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
- 4-6: –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–∫–∞–∑–∞—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Å–≤—è–∑–∏
- 7-8: –î–∞–µ—Ç —Ö–æ—Ä–æ—à—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º
- 9-10: –ò–¥–µ–∞–ª—å–Ω—ã–π –ø—Ä–∏–º–µ—Ä –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –≥–ª—É–±–∏–Ω–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –æ–±—â–µ—Å—Ç–≤–∞

### 7. –ü–û–¢–ï–ù–¶–ò–ê–õ –£–ù–ò–í–ï–†–°–ê–õ–ò–ó–ê–¶–ò–ò
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–∏–¥–∞–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –æ–±—â–µ—á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ –∑–≤—É—á–∞–Ω–∏—è:**
- 0-3: –¢—Ä—É–¥–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö —Ç–µ–º
- 4-6: –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞—Ç—Ä–æ–Ω—É—Ç—å –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–±—â–µ—á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ –≤–æ–ø—Ä–æ—Å—ã
- 7-8: –•–æ—Ä–æ—à–æ –ø–æ–¥–¥–∞–µ—Ç—Å—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
- 9-10: –ò–¥–µ–∞–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö —Ç–µ–º

### 8. –ü–û–¢–ï–ù–¶–ò–ê–õ –°–ò–ú–í–û–õ–ò–ó–ê–¶–ò–ò
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–µ–≤—Ä–∞—â–µ–Ω–∏—è –≤ —Å–∏–º–≤–æ–ª –∏–ª–∏ –∞—Ä—Ö–µ—Ç–∏–ø:**
- 0-3: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—á—Ç–µ–Ω–∏—è
- 4-6: –ú–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –ø—Ä–∏–º–µ—Ä–æ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —è–≤–ª–µ–Ω–∏—è
- 7-8: –•–æ—Ä–æ—à–æ –ø–æ–¥–¥–∞–µ—Ç—Å—è —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏
- 9-10: –ò–¥–µ–∞–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–æ—â–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞

### 9. –ü–û–¢–ï–ù–¶–ò–ê–õ –í–ò–†–ê–õ–¨–ù–û–°–¢–ò
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–æ–≤–ª–µ–∫–∞—é—â–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞:**
- 0-3: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –≤–∏—Ä–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è
- 4-6: –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å —É–º–µ—Ä–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä–µ—Å —É –∞—É–¥–∏—Ç–æ—Ä–∏–∏
- 7-8: –•–æ—Ä–æ—à–∞—è –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–æ–≤–ª–µ–∫–∞—é—â–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- 9-10: –ò–¥–µ–∞–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è –≤–∏—Ä–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è

### 10. –ü–û–¢–ï–ù–¶–ò–ê–õ –°–Æ–ñ–ï–¢–ù–û–ì–û –†–ê–ó–í–ò–¢–ò–Ø
**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –Ω–∞—Ä—Ä–∞—Ç–∏–≤–∞ –∏ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏:**
- 0-3: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —Å—é–∂–µ—Ç–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è
- 4-6: –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞—Ç–µ–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- 7-8: –î–∞–µ—Ç —Ö–æ—Ä–æ—à—É—é –æ—Å–Ω–æ–≤—É –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è —Å–ª–æ–∂–Ω–æ–≥–æ –Ω–∞—Ä—Ä–∞—Ç–∏–≤–∞
- 9-10: –ò–¥–µ–∞–ª—å–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–æ–≥–æ —Å—é–∂–µ—Ç–∞ —Å –¥—Ä–∞–º–∞—Ç—É—Ä–≥–∏—á–µ—Å–∫–æ–π –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç—å—é

## –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø –û–¶–ï–ù–ö–ò
- –û—Ü–µ–Ω–∏–≤–∞–π –Ω–µ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –Ω–æ–≤–æ—Å—Ç–∏, –∞ –µ—ë –°–ö–†–´–¢–´–ô –ü–û–¢–ï–ù–¶–ò–ê–õ
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–π, –∫–∞–∫ –º–æ–∂–Ω–æ —Ä–∞–∑–≤–∏—Ç—å —Ç–µ–º—É –≤ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –£—á–∏—Ç—ã–≤–∞–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ç–≤–æ—Ä—á–µ—Å–∫–æ–π –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∏ —Ä–∞–∑–≤–∏—Ç–∏—è
- –§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ —Ç–æ–º, —á—Ç–æ –ú–û–ñ–ù–û —Å–¥–µ–ª–∞—Ç—å —Å –º–∞—Ç–µ—Ä–∏–∞–ª–æ–º, –∞ –Ω–µ –Ω–∞ —Ç–æ–º, —á—Ç–æ –µ—Å—Ç—å
- –í –ø–æ–ª–µ essence_explain –Ω–∞–ø–∏—à–∏ –∫—Ä–∞—Ç–∫–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∏ –æ—Ü–µ–Ω–∫–∏ –ø–æ –≤—Å–µ–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º

## –§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê
```json
{
  "emotional_score": 8,
  "visual_score": 7,
  "heroes_score": 6,
  "actual_score": 9,
  "drama_score": 7,
  "context_depth_score": 8,
  "universal_score": 7,
  "symbolic_score": 6,
  "viral_score": 8,
  "narrative_score": 7,
  "essence_explain": "–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª (8/10): —Å—É—Ö–∏–µ —Ñ–∞–∫—Ç—ã —Å–∫—Ä—ã–≤–∞—é—Ç –¥—Ä–∞–º—É —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å –≥–ª—É–±–æ–∫–∏–π —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π. –í–∏–∑—É–∞–ª—å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª (7/10): –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Ç–∞—Ñ–æ—Ä –±—é—Ä–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏—Å—Ç–µ–º—ã –∏ —è—Ä–∫–∏—Ö –æ–±—Ä–∞–∑–æ–≤. –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª –≥–µ—Ä–æ–µ–≤ (6/10): –ø–µ—Ä—Å–æ–Ω–∞–∂–∏ –∏–º–µ—é—Ç –±–∞–∑–æ–≤—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –Ω–æ —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å (9/10): –∏–¥–µ–∞–ª—å–Ω–æ –≤–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—É—é –ø–æ–≤–µ—Å—Ç–∫—É. –î—Ä–∞–º–∞—Ç—É—Ä–≥–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª (7/10): —Å–æ–¥–µ—Ä–∂–∏—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –Ω–∞–ø—Ä—è–∂–µ–Ω–Ω–æ–≥–æ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è. –ö–æ–Ω—Ç–µ–∫—Å—Ç—É–∞–ª—å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª (8/10): –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å–∫—Ä—ã—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —á–µ—Ä–µ–∑ —á–∞—Å—Ç–Ω—ã–π —Å–ª—É—á–∞–π. –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å (7/10): —Ç–µ–º–∞ –ø–æ–Ω—è—Ç–Ω–∞ —Ä–∞–∑–Ω—ã–º —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º –≥—Ä—É–ø–ø–∞–º. –°–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª (6/10): –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å –ø—Ä–∏–º–µ—Ä–æ–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —è–≤–ª–µ–Ω–∏—è. –í–∏—Ä–∞–ª—å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª (8/10): —Ö–æ—Ä–æ—à–∞—è –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–æ–≤–ª–µ–∫–∞—é—â–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞. –°—é–∂–µ—Ç–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª (7/10): –º–∞—Ç–µ—Ä–∏–∞–ª –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã—Å—Ç—Ä–æ–∏—Ç—å –∫–æ–º–ø–æ–∑–∏—Ü–∏—é —Å –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–º –∏ —Ä–∞–∑–≤—è–∑–∫–æ–π."
}

"""

ESSENCE_FILTRATION_SCHEMA: Dict[str, Any] = {
    "type": "object",
    "properties": {
        "emotional_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π —è—Ä–∫–æ—Å—Ç–∏ –Ω–æ–≤–æ—Å—Ç–∏ (0-10)"
        },
        "visual_score": {
            "type": "number", 
            "description": "–û—Ü–µ–Ω–∫–∞ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–∑–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ—Å—Ç–∏ (0-10)"
        },
        "heroes_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ—Å—Ç–∏ –≥–µ—Ä–æ–µ–≤ –Ω–æ–≤–æ—Å—Ç–∏ (0-10)"
        },
        "actual_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ—Å—Ç–∏ –¥–ª—è –∂–∏—Ç–µ–ª—è –†–æ—Å—Å–∏–∏ (0-10)"
        },
        "drama_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ –¥—Ä–∞–º–∞—Ç–∏—á–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ—Å—Ç–∏ (0-10)"
        },
        "context_depth_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ –≥–ª—É–±–∏–Ω—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –Ω–æ–≤–æ—Å—Ç–∏ (0-10)"
        },
        "universal_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç–∏ —Ç–µ–º—ã –Ω–æ–≤–æ—Å—Ç–∏ (0-10)"
        },
        "symbolic_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–∏ (0-10)"
        },
        "viral_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ –≤–∏—Ä–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞ –Ω–æ–≤–æ—Å—Ç–∏ (0-10)"
        },
        "narrative_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ —Å–æ—Ü–∏–∞–ª—å–Ω–æ–π –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏ –Ω–æ–≤–æ—Å—Ç–∏ (0-10)"
        },
        "essence_explain": {
            "type": "string", 
            "description": "–ü–µ—Ä–µ—á–∏—Å–ª–∏—Ç—å –æ—Ü–µ–Ω–∫–∏ –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º –∏ –¥–∞—Ç—å –æ–±—â–µ–µ –∫—Ä–∞—Ç–∫–æ–µ –ø–æ—è—Å–Ω–µ–Ω–∏–µ (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)"
        }
    },
    "required": [
        "emotional_score",
        "visual_score", 
        "heroes_score",
        "actual_score",
        "drama_score",
        "context_depth_score",
        "universal_score",
        "symbolic_score",
        "viral_score",
        "narrative_score",
        "essence_explain"
    ],
    "additionalProperties": False
}


TAGED_PROMPT = """

–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Ç–µ–∫—Å—Ç –∏ —Å–æ–∑–¥–∞–π 5 —Ç–µ–≥–æ–≤, –æ–ø–∏—Å—ã–≤–∞—é—â–∏—Ö –¥–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –æ–±—Ä–∞–∑–æ–º:

1. **–¢–≠–ì 1** (–õ—é–¥–∏?) ‚Üí –ø–µ—Ä–µ—á–∏—Å–ª–∏ –ª—é–¥–µ–π (–¥–µ–π—Å—Ç–≤—É—é—â–∏–µ –ª–∏—Ü–∞, –∫–æ–º–º–µ–Ω—Ç–∞—Ç–æ—Ä—ã, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª–∏ –∏ –ø—Ä.), –∫–æ—Ç–æ—Ä—ã–µ —É–ø–æ–º–∏–Ω–∞—é—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–µ
- –ï—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—å –æ–¥–Ω–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–º—è - —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ
- –ù–µ –±–æ–ª–µ–µ 3 –ª–∏—Ü
- –ü—Ä–∏–≤–µ–¥–∏ –∏—Ö –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–µ –∫—Ä–∞—Ç–∫–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ —Ñ–∞–º–∏–ª–∏—é, –∏–ª–∏ –∫—Ä–∞—Ç–∫–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –∏–ª–∏ –∫–æ–º–ø–∞–Ω–∏–∏).
- –†–∞—Å–ø–æ–ª–æ–∂–∏ –∏—Ö –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É

2. **–¢–≠–ì 1** (–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏?) ‚Üí –ø–µ—Ä–µ—á–∏—Å–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π, –±—Ä–µ–Ω–¥–æ–≤, –º–∞—Ä–æ–∫ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –∏ –ø—Ä–æ—á–∏—Ö —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–π (–∫–æ–º–ø–∞–Ω–∏–∏, –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø–∞—Ä—Ç–∏–∏, –º–∞—Ä–∫–∏ –∞–≤—Ç–æ, –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä—É–∂–∏—è –∏ –ø—Ä–æ—á–µ–µ), –∫–æ—Ç–æ—Ä—ã–µ —É–ø–æ–º–∏–Ω–∞—é—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–µ
- –ù–µ —É–ø–æ–º–∏–Ω–∞–π –Ω–∞–∑–≤–∞–Ω–∏—è –°–ú–ò (–∏—Å–∫–ª—é—á–µ–Ω–∏–µ - –µ—Å–ª–∏ —Å–∞–º–∞ –Ω–æ–≤–æ—Å—Ç—å –ø–æ—Å–≤—è—â–µ–Ω–∞ –°–ú–ò)
- –ï—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—å –æ–¥–Ω–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–º—è - —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ
- –ù–µ –±–æ–ª–µ–µ 3 –Ω–∞–∑–≤–∞–Ω–∏–π –æ—Ä–≥–∞–Ω–∏–∑–µ—Ü–∏–π
- –ü—Ä–∏–≤–µ–¥–∏ –∏—Ö –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–µ –∫—Ä–∞—Ç–∫–æ–µ –Ω–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä,  Apple, Tesla, –¶–ë –†–§).
- –†–∞—Å–ø–æ–ª–æ–∂–∏ –∏—Ö –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É

3. **–¢–≠–ì 3** (–õ–æ–∫–∞—Ü–∏–∏?) ‚Üí –æ–ø–∏—à–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –ª–æ–∫–∞—Ü–∏–∏ (—Å—Ç—Ä–∞–Ω—ã, –≥–æ—Ä–æ–¥–∞, –ø–ª–æ—â–∞–¥–∫–∏, –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è, —Ñ–æ—Ä—É–º—ã), –∫–æ—Ç–æ—Ä—ã–µ —É–ø–æ–º–∏–Ω–∞—é—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–µ
- –ï—Å–ª–∏ –µ—Å—Ç—å —Ö–æ—Ç—å –æ–¥–Ω–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏–º—è - —Ç–æ –∏—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –∏–º–µ–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ
- –ù–µ –±–æ–ª–µ–µ —Ç—Ä–µ—Ö –ª–æ–∫–∞—Ü–∏–π, –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ –±–æ–ª–µ–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –∏ "–ú–æ—Å–∫–≤–∞", –∏ "–†–æ—Å—Å–∏—è" - —Ç–æ —É–∫–∞–∑–∞—Ç—å —Ç–æ–ª—å–∫–æ "–ú–æ—Å–∫–≤–∞")
- –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–µ –∫—Ä–∞—Ç–∫–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–†–æ—Å—Å–∏—è", –∞ –Ω–µ "–†–æ—Å—Å–∏–π—Å–∫–∞—è –§–µ–¥–µ—Ä–∞—Ü–∏—è", –∏–ª–∏ "–°–®–ê", –∞ –Ω–µ "–°–æ–µ–¥–∏–Ω–µ–Ω–Ω—ã–µ –®—Ç–∞—Ç—ã –ê–º–µ—Ä–∏–∫–∏).
- –†–∞—Å–ø–æ–ª–æ–∂–∏ –∏—Ö –ø–æ –∞–ª—Ñ–∞–≤–∏—Ç—É.

4. –¢–≠–ì 4 (–∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞?) ‚Üí —É–∫–∞–∂–∏ 3 –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ —É–ø–æ–º–∏–Ω–∞—é—Ç—Å—è –≤ —Ç–µ–∫—Å—Ç–µ
- –≠—Ç–æ –Ω–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∏–º–µ–Ω–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–ª–∏ —Å–ª—É–∂–µ–±–Ω—ã–µ —á–∞—Å—Ç–∏ —Ä–µ—á–∏
- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π –∫–∞–∂–¥–æ–µ —Å–ª–æ–≤–æ (–∫—Ä–æ–º–µ —Å–ª—É–∂–µ–±–Ω—ã—Ö –∏ –Ω–∞—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö) –ø–æ —á–∞—Å—Ç–æ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –í—ã–±–µ—Ä–∏ —Ç—Ä–∏ —Ä–∞–∑–Ω—ã—Ö –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤–∞, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–∏–º–µ–Ω–µ–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- –†–∞—Å–ø–æ–ª–æ–∂–∏ –∏—Ö –≤ –∏–º–µ–Ω–∏—Ç–µ–ª—å–Ω–æ–º –ø–∞–¥–µ–∂–µ (–∏–ª–∏ –≤ –≤–∏–¥–µ –∏–Ω—Ñ–∏–Ω–∏—Ç–∏–≤–∞ –µ—Å–ª–∏ —ç—Ç–æ –≥–ª–∞–≥–æ–ª), –≤ –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ

5. –¢–≠–ì 5 (–û—Å–Ω–æ–≤–Ω–∞—è —Ç–µ–º–∞? –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?) ‚Üí –Ω–∞–ø–∏—à–∏ –æ—Å–Ω–æ–≤–Ω—É—é —Ç–µ–º—É –¥–∞–Ω–æ–π –Ω–æ–≤–æ—Å—Ç–∏, –∫–ª—é—á–µ–≤–æ–π –ø—Ä–æ—Ü–µ—Å—Å/—Å–æ–±—ã—Ç–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ –∏–ª–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç (–æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º –∏–ª–∏ –æ–¥–Ω–∏–º –∑–∞–∫–æ–Ω—á–µ–Ω–Ω—ã–º —Å–ª–æ–≤–æ—Å–æ—á–µ—Ç–∞–Ω–∏–µ–º)

**–ü—Ä–∞–≤–∏–ª–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–π —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç –Ω–æ–≤–æ—Å—Ç–∏ –Ω–µ –¥–æ–º—ã—Å–ª–∏–≤–∞–π
- –ï—Å–ª–∏ –∏–Ω—Ñ—Ä–º–∞—Ü–∏–∏ –Ω–µ—Ç –ø–æ –∫–∞–∫–æ–º—É-—Ç–æ —Ç—ç–≥—É —è–≤–Ω–æ –≤ –Ω–æ–≤–æ—Å—Ç–∏ –Ω–µ—Ç - –ø—Ä–æ—Å—Ç–æ –≤–µ—Ä–Ω–∏ —Å—Ç—Ä–æ–∫—É "–Ω–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏"

## –§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê
```json
{
  "tag1": "–°–µ—á–∏–Ω, –®—É–ª—å–≥–∏–Ω–æ–≤",
  "tag2": "CNPC, –†–æ—Å–Ω–µ—Ñ—Ç—å",
  "tag3": "–°–æ—á–∏, –£—Å—Ç—å-–õ—É–≥–∞", 
  "tag4": "–î–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—è, –º–µ–º–æ—Ä–∞–Ω–¥—É–º, —É–≥–ª–µ–≤–æ–¥–æ—Ä–æ–¥—ã",
  "tag5": "–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –Ω–µ—Ñ—Ç–µ—Ö–∏–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–º–±–∏–Ω–∞—Ç–∞"
}

"""

TAGED_SCHEMA: Dict[str, Any] = {
    "type": "object",
    "properties": {
        "tag1": {
            "type": "string",
            "description": "–õ—é–¥–∏"
        },
        "tag2": {
            "type": "string", 
            "description": "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏"
        },
        "tag3": {
            "type": "string",
            "description": "–ú–µ—Å—Ç–∞"
        },
        "tag4": {
            "type": "string",
            "description": "–°–ª–æ–≤–∞"
        },
        "tag5": {
            "type": "string",
            "description": "–û —á–µ–º"
        }
    },
    "required": [
        "tag1",
        "tag2", 
        "tag3",
        "tag4",
        "tag5"
    ],
    "additionalProperties": False
}

SHORTEN_PROMPT = """

## –ò–ù–°–¢–†–£–ö–¶–ò–Ø
–ü–µ—Ä–µ—Å–∫–∞–∂–∏ –∫—Ä–∞—Ç–∫–æ (–Ω–µ –±–æ–ª–µ–µ 2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π) –æ —á–µ–º —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–ø–∏—Å–∞–Ω–æ –Ω–∏–∂–µ. 
–°–æ—Ö—Ä–∞–Ω–∏ —Å—Ç–∏–ª—å —Å–∞–º–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è.

## –§–û–†–ú–ê–¢ –û–¢–í–ï–¢–ê
–æ—Ç–≤–µ—Ç –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏ (–∫–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–µ—Å–∫–∞–∑ –Ω–æ–≤–æ—Å—Ç–∏)

"""

SHORTEN_SCHEMA: Dict[str, Any] = {
    "type": "object",
    "properties": {
        "short_text": {
            "type": "string", 
            "description": "–∫–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–µ—Å–∫–∞–∑ –Ω–æ–≤–æ—Å—Ç–∏"
        }
    },
    "required": ["short_text"]
}

MYTH_PROMPT = """

–¢—ã ‚Äî –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä. –û—Ü–µ–Ω–∏ –Ω–æ–≤–æ—Å—Ç—å –Ω–∞ –µ—ë –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –≤ —Å—Ç–∏–ª–µ –∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –ø–∏—Å–∞—Ç–µ–ª–µ–π.

## –ö–†–ò–¢–ï–†–ò–ò –û–¶–ï–ù–ö–ò –ü–û–¢–ï–ù–¶–ò–ê–õ–ê –ù–û–í–û–°–¢–ò

### 1. –ë–û–ì–ê–¢–°–¢–í–û –ö–û–ù–§–õ–ò–ö–¢–û–í (–≤–µ—Å 1.3)
–ù–∞–ª–∏—á–∏–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏–π –¥–ª—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –æ—Å–º—ã—Å–ª–µ–Ω–∏—è:
- 10: –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã (–ª–∏—á–Ω—ã–µ, —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ, –º–æ—Ä–∞–ª—å–Ω—ã–µ, —ç–∫–∑–∏—Å—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ)
- 9: –ì–ª—É–±–æ–∫–∏–µ –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –Ω–∞–ø—Ä—è–∂–µ–Ω–Ω–æ—Å—Ç—å—é
- 8: –Ø—Å–Ω—ã–µ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è —Å —Å–∏–ª—å–Ω—ã–º –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º —Ä–∞–∑–≤–∏—Ç–∏—è
- 7: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å —É–º–µ—Ä–µ–Ω–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é
- 6: –û–¥–∏–Ω –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç –±–µ–∑ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π –≥–ª—É–±–∏–Ω—ã
- 5: –ë–∞–∑–æ–≤—ã–π –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —Ä–∞–∑–≤–∏—Ç–∏–µ–º
- 4: –°–ª–∞–±—ã–µ, –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è
- 3: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞
- 2: –ï–¥–≤–∞ —Ä–∞–∑–ª–∏—á–∏–º—ã–µ –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è
- 1-0: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

### 2. –ü–û–¢–ï–ù–¶–ò–ê–õ –î–õ–Ø –°–¢–ò–õ–ò–ó–ê–¶–ò–ò (–≤–µ—Å 1.2)
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö —Å—Ç–∏–ª—è—Ö:
- 10: –ò–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è 5+ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∏–ª–µ–π —Å –±–æ–≥–∞—Ç—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
- 9: –û—Ç–ª–∏—á–Ω–æ –ª–æ–∂–∏—Ç—Å—è –≤ 4-5 —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å—Ç–∏–ª–µ–π
- 8: –•–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è 3-4 —Å—Ç–∏–ª–µ–π —Å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ–º –ø–æ–¥—Ö–æ–¥–æ–≤
- 7: –£–≤–µ—Ä–µ–Ω–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ 2-3 —Å—Ç–∏–ª—è—Ö
- 6: –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è 1-2 —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤
- 5: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä —Å—Ç–∏–ª–µ–π
- 4: –°–ª–∞–±—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- 3: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- 2: –ï–¥–∏–Ω–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- 1-0: –ù–µ –ø–æ–¥–¥–∞–µ—Ç—Å—è —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏

### 3. –ì–õ–£–ë–ò–ù–ê –¢–ï–ú–´ (–≤–µ—Å 1.1)
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö —Ç–µ–º:
- 10: –ó–∞—Ç—Ä–∞–≥–∏–≤–∞–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —ç–∫–∑–∏—Å—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —Ç–µ–º—ã
- 9: –ì–ª—É–±–æ–∫–æ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
- 8: –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞—Å–∫—Ä—ã—Ç—å –∑–Ω–∞—á–∏–º—ã–µ —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ/–º–æ—Ä–∞–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- 7: –î–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ –¥–ª—è —Å–µ—Ä—å–µ–∑–Ω–æ–≥–æ –æ—Å–º—ã—Å–ª–µ–Ω–∏—è
- 6: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª
- 5: –ë–∞–∑–æ–≤—ã–µ —Ç–µ–º—ã –±–µ–∑ —Ä–∞–∑–≤–∏—Ç–∏—è
- 4: –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω–∞—è —Ç–µ–º–∞—Ç–∏–∫–∞
- 3: –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å
- 2: –ï–¥–≤–∞ —Ä–∞–∑–ª–∏—á–∏–º—ã–µ —Ç–µ–º—ã
- 1-0: –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±–µ–¥–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª

### 4. –û–ë–†–ê–ó–ù–´–ô –ü–û–¢–ï–ù–¶–ò–ê–õ (–≤–µ—Å 1.0)
–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–µ—Ç–∞—Ñ–æ—Ä –∏ —Å–∏–º–≤–æ–ª–æ–≤:
- 10: –ë–æ–≥–∞—Ç–∞—è –ø–æ—á–≤–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∏—Ö —Å–∏—Å—Ç–µ–º
- 9: –ú–æ—â–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã—Ö –º–µ—Ç–∞—Ñ–æ—Ä –∏ –∞–ª–ª–µ–≥–æ—Ä–∏–π
- 8: –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–∞—Ñ–æ—Ä—ã –∏ —Å–∏–º–≤–æ–ª—ã
- 7: –•–æ—Ä–æ—à–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–±—Ä–∞–∑–Ω–æ–≥–æ –æ—Å–º—ã—Å–ª–µ–Ω–∏—è
- 6: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –æ–±—Ä–∞–∑–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª
- 5: –ë–∞–∑–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –º–µ—Ç–∞—Ñ–æ—Ä–∏–∑–∞—Ü–∏–∏
- 4: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–±—Ä–∞–∑–Ω–æ—Å—Ç–∏
- 3: –°–ª–∞–±—ã–π –æ–±—Ä–∞–∑–Ω—ã–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª
- 2: –ï–¥–∏–Ω–∏—á–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤
- 1-0: –§–∞–∫—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª –±–µ–∑ –æ–±—Ä–∞–∑–Ω–æ–≥–æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–∞

### 5. –î–†–ê–ú–ê–¢–£–†–ì–ò–ß–ï–°–ö–ê–Ø –ó–ê–í–ï–†–®–ï–ù–ù–û–°–¢–¨ (–≤–µ—Å 1.0)
–ù–∞–ª–∏—á–∏–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –¥—Ä–∞–º–∞—Ç—É—Ä–≥–∏—á–µ—Å–∫–æ–π –¥—É–≥–∏:
- 10: –ì–æ—Ç–æ–≤–∞—è –¥—Ä–∞–º–∞—Ç—É—Ä–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –ø–æ–ª–Ω–æ–π –∞—Ä–∫–æ–π –∏ –∫–∞—Ç–∞—Ä—Å–∏—Å–æ–º
- 9: –ó–∞–≤–µ—Ä—à–µ–Ω–Ω–∞—è –¥—Ä–∞–º–∞—Ç—É—Ä–≥–∏—è —Å —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∫—É–ª—å–º–∏–Ω–∞—Ü–∏–µ–π
- 8: –Ø—Å–Ω–∞—è –¥—Ä–∞–º–∞—Ç—É—Ä–≥–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è —Å —Å–∏–ª—å–Ω–æ–π –∑–∞–≤—è–∑–∫–æ–π
- 7: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–∞—è –¥—Ä–∞–º–∞—Ç—É—Ä–≥–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª–æ–º
- 6: –§—Ä–∞–≥–º–µ–Ω—Ç–∞—Ä–Ω–∞—è –¥—Ä–∞–º–∞—Ç—É—Ä–≥–∏—è, —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏
- 5: –ë–∞–∑–æ–≤—ã–µ –¥—Ä–∞–º–∞—Ç—É—Ä–≥–∏—á–µ—Å–∫–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- 4: –°–ª–∞–±–∞—è –¥—Ä–∞–º–∞—Ç—É—Ä–≥–∏—á–µ—Å–∫–∞—è –æ—Å–Ω–æ–≤–∞
- 3: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –¥—Ä–∞–º–∞—Ç—É—Ä–≥–∏–∏
- 2: –ï–¥–≤–∞ —Ä–∞–∑–ª–∏—á–∏–º–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- 1-0: –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—Ä–∞–º–∞—Ç—É—Ä–≥–∏—á–µ—Å–∫–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

## –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø –û–¶–ï–ù–ö–ò
- –û—Ü–µ–Ω–∏–≤–∞–π –°–´–†–£–Æ –ù–û–í–û–°–¢–¨, –∞ –Ω–µ –≤–æ–∑–º–æ–∂–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–π, –∫–∞–∫ —ç—Ç—É –Ω–æ–≤–æ—Å—Ç—å –º–æ–≥–ª–∏ –±—ã –æ–±—ã–≥—Ä–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –ø–∏—Å–∞—Ç–µ–ª–∏
- –§–æ–∫—É—Å–∏—Ä—É–π—Å—è –Ω–∞ —Ç–æ–º, –∫–∞–∫–∏–µ –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–ª–æ–∂–µ–Ω—ã –≤ –º–∞—Ç–µ—Ä–∏–∞–ª–µ
- –£—á–∏—Ç—ã–≤–∞–π –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∂–∞–Ω—Ä–æ–≤ –∏ —Å—Ç–∏–ª–µ–π

## –§–û–†–ú–£–õ–ê –†–ê–°–ß–ï–¢–ê:
(–ö1 * 1.3 + –ö2 * 1.2 + –ö3 * 1.1 + –ö4 * 1.0 + –ö5 * 1.0) / 5.6

–í–µ—Ä–Ω–∏ –¢–û–õ–¨–ö–û –∏—Ç–æ–≥–æ–≤—ã–π –±–∞–ª–ª.

## –ü–†–ò–ú–ï–†–´ –û–¶–ï–ù–û–ö:
- –°–∫–∞–Ω–¥–∞–ª —Å –ø–æ–ª–∏—Ç–∏–∫–æ–º + —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∞—è –¥—Ä–∞–º–∞: 8.4
- –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π –ø—Ä–æ—Ä—ã–≤ —Å —ç—Ç–∏—á–µ—Å–∫–∏–º–∏ –¥–∏–ª–µ–º–º–∞–º–∏: 7.8
- –û–±—ã—á–Ω–∞—è –±—é—Ä–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ–≤–æ—Å—Ç—å: 4.2
- –°—É—Ö–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á–µ—Ç: 2.1

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:** 8.5

"""

MYTH_SCHEMA: Dict[str, Any] = {
    "type": "object",
    "properties": {
        "myth_score": {
            "type": "number",
            "description": "–û—Ü–µ–Ω–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–µ–∫—Å—Ç–∞ –∞—Ä—Ö–µ—Ç–∏–ø–∏—á–µ—Å–∫–∏–º —Å—é–∂–µ—Ç–Ω—ã–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º –æ—Ç 0.0 –¥–æ 10.0"
        }
    },
    "required": ["myth_score"]
}
